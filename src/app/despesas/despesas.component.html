<app-alert [show]="error" tipo='danger' title="Erro!" [mensagem]="(!error ? '' : error.mensagem)"></app-alert>
<app-loading [show]="loading" [aviso]="loadmessage"></app-loading>

<tabset [justified]="true">
  <tab heading="Relação de Despesas">

      <app-grid
      [apiroute]="'Representantes/Despesas/Lookup'"
      [pagesize]="5"
      [pesquisa]="'...'"
      [canedit]="true"
      [candelete]="true"
      [caninsert]="true"
      (emitDataSelected)="onSelectData($event)">
    </app-grid>

  </tab>

  <tab heading="Despesa [{{this.selected.id}}]">

    <form [formGroup]="formDespesa">
      <div class="form-group">

        <div class="row">
          <div class="col-sm">
            <input placeholder="Daterangepicker" type="text" class="form-control" bsDaterangepicker #dpr="bsDaterangepicker">
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
            <label for="datainicio">Data Saída</label>
            <input type="date" class="form-control" id="datainicio" placeholder="Saida" formControlName="Data_Saida">
          </div>

          <div class="col-sm">
            <label for="usuarioassociado">Data Retorno</label>
            <input type="date" class="form-control" id="usuarioassociado" placeholder="Retorno" formControlName="Data_Retorno">
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
            <label for="roteiro">Roteiro</label>
            <textarea class="form-control" id="roteiro" placeholder="Informe o roteiro da viagem" formControlName="Roteiro"></textarea>
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
            <label for="observacoes">Observações</label>
            <textarea class="form-control" id="observacoes" placeholder="Informe observações sobre a viagem" formControlName="Observacoes"></textarea>
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
            <label for="usuarioassociado">Usuário</label>
            <input type="text" class="form-control" id="usuarioassociado" placeholder="Informe o usuário" formControlName="UsuarioAssociado">
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
            <!--
            <label for="id_evento">Evento</label>
            <input type="text" class="form-control" id="id_evento" placeholder="Informe o evento" formControlName="id_Evento">
            -->
            Evento:
            <!--
            <app-input-lookup
              [apiroute]="'Representantes/DespesasEventos/Lookup'"
              title="Eventos"
              [inputid]="lookupevento.id"
              [inputname]="lookupevento.descricao"
              [lookupselected]="lookupevento">
            </app-input-lookup>
          -->
          <input [(ngModel)]="seachevent"
            [ngModelOptions]="{standalone: true}"
            [typeahead]="datasource"
            typeaheadOptionField="descricao"
            (typeaheadOnSelect)="onSelectData($event)"
            class="form-control">
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
              <input [(ngModel)]="seachrepres"
              [ngModelOptions]="{standalone: true}"
              [typeahead]="datarepres"
              typeaheadOptionField="descricao"
              (typeaheadOnSelect)="onSelectData($event)"
              class="form-control">
          </div>
        </div>

      </div>

      <div class="row">
        <div class="col-sm">
          <button type="submit" class="btn btn-primary" (click)="salvar()">Salvar</button>
          <button type="submit" class="btn btn-info" (click)="cancelar()">Cancelar</button>
        </div>
      </div>
    </form>

     <br/>

    <pre class="card card-block card-header mb-3">form valid: {{formDespesa.valid}}</pre>
    <!--<pre class="card card-block card-header mb-3">datasource: {{datasource | json}}</pre>-->
    <pre class="card card-block card-header mb-3">lookupevento: {{lookupevento | json}}</pre>

  </tab>

  <tab heading="Lançamentos" customClass="customClass">
    Em desenvolvimento..
  </tab>

</tabset>




